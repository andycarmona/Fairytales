@using BookWriterTool.Helpers
@{ var frame = (bookChapterPageFrame)this.ViewData["actualFrame"];
   var target = (string)this.ViewData["target"];
   var activeDirectory = "";
   if (Session["ActualDirectory"] != null)
   {
       activeDirectory = (string)this.Session["ActualDirectory"];
   }
}
@if (frame.contents != null)
{
    foreach (bookChapterPageFrameContent content in frame.contents)
    {<div class="editPencil"><span class="ui-icon ui-icon-pencil"></span></div>
    <div class="droppable contentIntern" style="background-image: url(@(!String.IsNullOrEmpty(content.background) ? @activeDirectory+"/Generic/"+ @content.background : @GlobalVariables.ConfigResource("Images")+"rectangle.png"));">
        @if ((@target == "rectangle"))
        {
            if (content.objects != null)
            {
                foreach (bookChapterPageFrameContentObject obj in content.objects)
                {
                    switch (@obj.type)
                    {
                        case "textBox":
                            <p class='bigText' contenteditable='true'>@this.Html.Raw(@obj.text.Replace("\n", "<br/>"))</p>
                            break;
                        case "speechBubble":
                              
                            <div class="speechContainer">
                                <p class='smallText' contenteditable='true'> @this.Html.Raw(@obj.text != null ? @obj.text.Replace("\n", "<br/>"):" ")</p>
                                    <br />
                            </div>
                            break;
                        default:
                       <img id="@obj.id" style="left: @obj.origoX; top: @obj.origoY;" class="clonedImg" width="@obj.scaleX" height="@obj.scaleY" alt="" src="@activeDirectory@GlobalVariables.ConfigResource(@obj.type)@obj.img" />
                            break;
                    }
                }
            }
        }
    </div>
    }
}