@model book
@{
    
    Layout = "~/Views/Shared/Editor_Layout.cshtml";
    ViewBag.Title = "Editor";
    bookChapterPage[] apage = this.Model.chapters[0].pages;
    string isa = apage[0].id;
}
<div style="float:left"><h2>Book Editor</h2></div><div style="float:right"><h2>@Html.ActionLink("Book Viewer","ViewBook")</h2></div>
<div class="chapters" id="chapters">
    <ul>
        <li><a href="#chapters">Chapter1</a></li>
    </ul>
<div class="pages" id="pages">
    <ul>
        @foreach (bookChapterPage page in @Model.chapters[0].pages)
        {
         
            <li><a href="#@page.id">@page.id</a></li>
        }
    </ul>
    @foreach (var page in @Model.chapters[0].pages)
    {
        <div class="page" id="@page.id">

            <div id="frames">
                @foreach (bookChapterPageFrame frame in @Model.chapters[0].pages[0].frames)
                {
                    <div id="@frame.id" class="droppable">
                        <p>frameId: @frame.id</p>
                        <p>frameBorderType: @frame.bordertype</p>
                        <p></p>

                    </div>
                }
            </div>
            <div class="contents" id="contents">
                @foreach (bookChapterPageFrameContent content in @Model.chapters[0].pages[0].frames[0].contents)
                {
                    <div class="draggable" id="@content.target">
                        target: @content.target
                        type : @content.type
                      
                        ----------------------
                        @foreach (bookChapterPageFrameContentObject objeto in @Model.chapters[0].pages[0].frames[0].contents[0].objects)
                        {
                            <div>
                                <p>@objeto.type - @objeto.id - @objeto.animation</p>
                            </div>
                        }
                    </div>
                }
            </div>
        </div>
    }
</div>
    </div>
@section scripts
{
    <script>
        var draggableId = "No Draggable";
        var droppableId = "No droppable";
        $(function () {
            $("#pages").tabs();
        });
        $(function () {
            $("#chapters").tabs();
        });
        $(function () {
            $(".draggable").draggable({
                drag: function (event, ui) {
                    draggableId = $(this).attr("id");
                }
            }).addClass("ui-state-highlight");

            $(".droppable").droppable({
                drop: function (event, ui) {

                    var droppableId = $(this).attr("id");
                    $(this).find("p")
                        .html("Dropped!" + draggableId + "on" + droppableId);
                }
            }).addClass("ui-state-highlight");
        });

    </script>
}
